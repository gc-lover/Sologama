# Правила для агентов Cursor - Проект Evolution Fantasy

## Основные принципы

### 1. Архитектурные принципы
- **SOLID**: Все классы должны следовать принципам SOLID
- **Максимальный размер класса**: Не более 350 строк кода
- **Принцип единственной ответственности**: Каждый класс отвечает только за одну функцию
- **Интерфейсы вместо наследования**: Предпочитать композицию наследованию

### 2. Игровые механики
- **Баланс**: Все способности должны быть сбалансированы для PvP и PvE
- **Прогрессия**: Эволюция должна быть логичной и мотивирующей
- **Фидбек**: Каждый экшн должен давать четкую обратную связь игроку

### 3. Качество кода
- **Документация**: Каждый публичный метод должен быть документирован
- **Тестирование**: Критические системы должны иметь unit-тесты
- **Производительность**: Код должен быть оптимизирован для 60+ FPS

## Правила разработки

### Blueprint vs C++
- **C++ для**: Системной логики, производительности, переиспользуемых компонентов
- **Blueprint для**: Быстрого прототипирования, дизайна уровней, UI

### Система эволюции
- **Линейная прогрессия**: От слизи до финальной формы
- **Ветвление**: Возможность выбора специализации на поздних этапах
- **Условия**: Четкие требования для каждой эволюции

### Мультиплеер архитектура
- **Клиент-сервер**: Все игровая логика на сервере
- **Синхронизация**: Использовать реплицированные переменные
- **Валидация**: Серверная валидация всех действий

## Специфические правила

### 1. Способности
```
Каждая способность должна иметь:
- Уникальное название и описание
- Четкие параметры (урон, кулдаун, стоимость)
- Визуальный эффект и звук
- Баланс для разных уровней эволюции
```

### 2. Предметы и лут
```
Система лута должна:
- Иметь понятную редкость (Common, Rare, Epic, Legendary)
- Давать ощутимые бонусы
- Иметь визуальные отличия
- Балансироваться по уровням
```

### 3. UI/UX
```
Интерфейс должен:
- Быть интуитивным для аниме-аудитории
- Иметь адаптивный дизайн
- Поддерживать разные разрешения
- Использовать аниме-стиль элементов
```

### 4. Баланс
```
Баланс проверяется на:
- PvE контент (одиночный режим)
- PvP контент (мультиплеер)
- Экономику (донат vs ф2п)
- Прогрессию (время на достижение целей)
```

## Правила для ИИ агентов

### 1. Генерация кода
- Всегда проверять синтаксис перед сохранением
- Использовать существующие паттерны проекта
- Добавлять комментарии для сложной логики
- Следовать code style проекта

### 2. Создание ассетов
- Создавать спецификации перед реализацией
- Использовать стандарты наименования
- Оптимизировать размер и производительность
- Тестировать на разных платформах

### 3. Документация
- Обновлять документацию при изменениях
- Использовать стандартизированный формат
- Добавлять примеры использования
- Поддерживать актуальность

## Безопасность и валидация

### 1. Анти-чит защита
- Все важные действия валидируются на сервере
- Использовать checksum для критических файлов
- Мониторить подозрительную активность
- Регулярно обновлять защиту

### 2. Сетевая безопасность
- Шифрование чувствительного трафика
- Валидация всех входящих данных
- Защита от DDoS атак
- Аудит сетевых протоколов

### 3. Данные игроков
- Шифрование персональных данных
- Безопасное хранение паролей
- Анонимизация аналитики
- Соблюдение GDPR и privacy законов

## Процессы разработки

### 1. Code Review
- Все изменения проходят review
- Минимум 2 аппрува для критических систем
- Автоматические проверки качества
- Тестирование перед мерджем

### 2. Тестирование
- Unit тесты для всех систем
- Integration тесты для взаимодействия
- Performance тесты на целевых платформах
- Playtesting с реальными игроками

### 3. Деплоймент
- Автоматизированные билды
- Стажирование перед продакшеном
- Роллбек стратегии
- Мониторинг после релиза

## Мониторинг и аналитика

### 1. Технические метрики
- FPS и производительность
- Время загрузки уровней
- Размер билда и памяти
- Количество багов и crashes

### 2. Игровые метрики
- Вовлеченность игроков
- Прогрессия и retention
- Экономические показатели
- PvP статистика

### 3. Бизнес метрики
- Конверсия донатов
- Время сессии
- Churn rate
- ROI по фичаям