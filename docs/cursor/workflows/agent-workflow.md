# Workflow для агентов Cursor в проекте Evolution Fantasy

## Общий процесс работы

### 1. Инициализация задачи
```
Пользователь → Агент → Анализ → Планирование → Реализация → Тестирование → Commit
```

### 2. Типы задач агентов

#### Game Design Agent
**Ответственность**: Игровой дизайн, баланс, контент
```
Workflow:
1. Анализ требований
2. Исследование существующих механик
3. Дизайн решения
4. Прототипирование в документах
5. Создание спецификаций
6. Валидация с командой
```

#### Technical Agent
**Ответственность**: Техническая реализация, архитектура, код
```
Workflow:
1. Анализ технических требований
2. Проектирование архитектуры
3. Написание кода (C++/Blueprints)
4. Unit тестирование
5. Integration тестирование
6. Code review
```

#### UI/UX Agent
**Ответственность**: Интерфейс, пользовательский опыт
```
Workflow:
1. Анализ пользовательских сценариев
2. Дизайн интерфейса
3. Создание прототипов
4. Имплементация в Slate
5. Тестирование usability
6. Адаптация под разные платформы
```

#### QA Agent
**Ответственность**: Тестирование, качество, баг-трекинг
```
Workflow:
1. Создание тест-кейсов
2. Автоматизированное тестирование
3. Ручное тестирование
4. Баг-трекинг
5. Регрессионное тестирование
6. Отчеты о качестве
```

## Специфические workflow'ы

### Создание новой способности

#### Шаг 1: Дизайн (Game Design Agent)
```
/design-ability [название] [тип] [уровень]
```
**Результат**: Спецификация способности в `docs/game_design/mechanics/`

#### Шаг 2: Техническая спецификация (Technical Agent)
```
/create-ability-spec [название]
```
**Результат**: Техническая документация в `docs/architecture/`

#### Шаг 3: Имплементация (Technical Agent)
```
/implement-ability [название]
```
**Результат**: Код способности в проекте

#### Шаг 4: UI интеграция (UI/UX Agent)
```
/create-ability-ui [название]
```
**Результат**: UI компоненты для способности

#### Шаг 5: Тестирование (QA Agent)
```
/test-ability [название]
```
**Результат**: Тестовые отчеты и багфиксы

### Создание нового уровня

#### Шаг 1: Дизайн уровня (Game Design Agent)
```
/design-level [название] [тип] [сложность]
```
**Результат**: Дизайн-документ уровня

#### Шаг 2: Техническая подготовка (Technical Agent)
```
/prepare-level-tech [название]
```
**Результат**: Технические спецификации

#### Шаг 3: Создание ассетов (Asset Agent)
```
/create-level-assets [название]
```
**Результат**: 3D модели, текстуры, звуки

#### Шаг 4: Имплементация (Technical Agent)
```
/implement-level [название]
```
**Результат**: Рабочий уровень в UE

#### Шаг 5: Баланс и тестирование (QA + Game Design Agents)
```
/balance-level [название]
/test-level [название]
```
**Результат**: Сбалансированный уровень

### Добавление новой эволюции

#### Шаг 1: Дизайн эволюции (Game Design Agent)
```
/design-evolution [от_формы] [к_форме]
```
**Результат**: Дизайн новой формы

#### Шаг 2: Техническая архитектура (Technical Agent)
```
/design-evolution-tech [форма]
```
**Результат**: Техническая архитектура эволюции

#### Шаг 3: Визуальные ассеты (Asset Agent)
```
/create-evolution-assets [форма]
```
**Результат**: 3D модель, анимации, эффекты

#### Шаг 4: Код эволюции (Technical Agent)
```
/implement-evolution [форма]
```
**Результат**: Система трансформации

#### Шаг 5: Баланс и полировка (QA + Game Design Agents)
```
/balance-evolution [форма]
/polish-evolution [форма]
```
**Результат**: Готовая эволюционная ветка

## Процессы коммуникации

### Внутренняя коммуникация агентов
- **Документы**: Все изменения документируются
- **Спецификации**: Технические требования согласовываются
- **Code Review**: Автоматический review изменений
- **Тесты**: CI/CD запускает тесты на изменения

### Коммуникация с пользователями
- **Прогресс**: Регулярные обновления статуса
- **Вопросы**: Активное уточнение требований
- **Демонстрации**: Показ результатов работы
- **Документация**: Автоматическое обновление docs

## Инструменты и интеграции

### Cursor IDE интеграции
```
CursorTools/
├── Commands/              # Кастомные команды
├── Rules/                 # Правила для агентов
├── Templates/             # Шаблоны кода
└── Scripts/               # Автоматизационные скрипты
```

### Внешние интеграции
- **GitHub**: Репозиторий и CI/CD
- **Jira/Linear**: Task tracking
- **Discord/Slack**: Коммуникация команды
- **Figma/Miro**: Дизайн и планирование

## Метрики качества

### Технические метрики
- **Code Coverage**: >80% покрытие тестами
- **Performance**: 60+ FPS на target hardware
- **Stability**: <0.1% crash rate
- **Security**: 0 critical vulnerabilities

### Процессные метрики
- **Velocity**: Story points per sprint
- **Quality**: Bugs per feature
- **Efficiency**: Time to complete tasks
- **Satisfaction**: Team satisfaction surveys

## Обработка ошибок

### Типы ошибок и решения

#### Технические ошибки
```
Error Type: Compilation Error
Solution: Auto-fix with AI assistance
Fallback: Manual fix by developer
```

#### Дизайн ошибки
```
Error Type: Balance Issue
Solution: Data-driven analysis
Fallback: Design review meeting
```

#### Коммуникационные ошибки
```
Error Type: Misunderstanding Requirements
Solution: Clarification session
Fallback: Updated specifications
```

## Непрерывное улучшение

### Регулярные процессы
- **Retrospectives**: Еженедельный анализ работы
- **Metrics Review**: Ежемесячный анализ метрик
- **Process Updates**: Квартальный review процессов
- **Training**: Непрерывное обучение агентов

### Автоматизация
- **Template Updates**: Автоматическое обновление шаблонов
- **Rule Refinement**: Улучшение правил на основе опыта
- **Workflow Optimization**: Оптимизация процессов
- **Tool Integration**: Добавление новых инструментов